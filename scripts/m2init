#!/usr/bin/env php
<?php
/**
 * Copyright Â© 2016 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
namespace MagentoDevBox;

require_once __DIR__ . '/vendor/autoload.php';
require_once __DIR__ . '/Command/MagentoInstall.php';

use MagentoDevBox\Command\MagentoInstall;
use Symfony\Component\Console\Application;

$application = new Application();
$commands = [];

foreach (glob(__DIR__ . '/Command/Sub/*.php') as $fileName)
{
    require_once $fileName;

    $className = 'MagentoDevBox\\Command\\Sub\\' . basename($fileName, '.php');
    $commands[] = new $className();
}

$application->addCommands($commands);
$wrapperCommand = new MagentoInstall();
$application->add($wrapperCommand);
$wrapperCommand->postConfigure();
$application->run();
